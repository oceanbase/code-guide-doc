reuse \& reset \& clear 
============================================



**`reset`** **方法** **用于重置对象，** **`reuse`** **方法** **用于重用对象，禁止使用** **`clear`** **方法** 。说明如下：

1. `reset` 和 `reuse` 都用于对象的重用。这种重用往往是因为某些关键类的对象分配内存和构造太耗时，为了优化性能而引入的。

   

2. `reset` 的含义是把对象的状态恢复成构造函数或者 `init` 方法执行以后的初始状态。参考 `ObRow::reset`；

   

3. 除了 `reset` 以外的其它情况采用 `reuse`。与 `reset` 不同的是，`reuse` 往往不释放某些重新申请很耗时的资源，如内存等。参考 `PageArena::reuse`。

   

4. `clear` 广泛用于 C++ STL 的容器类中，往往表示把容器类的 `size` 清零，但是并不清空内部的对象或者释放内存。`clear` 和 `reset`/`reuse` 的区别很微妙，为了简化理解，禁止使用 `clear`，已使用的逐步去除。

   



